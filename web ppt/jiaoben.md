# 前言
### 有这么一群富有创造力与激情的年轻人
### 他们立志要把最好的互联网体验带给世界。
### 他们有一个伟大的名字 
## —— 前端工程师
### 他们主要的工作就是还原各种UI到终端上
### 他们的每一天都是充实而快乐的

### 好景不长
## 各种移动设备如雨后春笋般出现
## 而这直接影响到前端们的页面成果

### 所以，一场关于 
## 如何在各种设备中“舒服”地展示HTML5页面
### 的战争悄然打响。

### 适配方案万花齐放
# 很难形成有效的记忆
## 不知道每个方案之间的联系
### 更加无法定制自己的业务方案

## 本着 听得懂，拿得走，用得上 分享原则
## 希望大家听了我的分享后
- 对适配H5中用到的一些前端概念有了解
- 能辨别各种方案的优劣
- 根据业务场景定制自己的适配方案

### 我们先讨论一个问题  
## 一套优秀的 H5适配方案 应该是怎么样的？

# 一套优秀的 H5适配方案 应该是怎么样呢？
-----
## 不能为每个设备都写一套适配规则
#### 最好能做到自动填满整个屏幕，不要留下空白，或者出现溢出滚动条。且画面协调，不变形。
-----
## 操作简单
## 系统不要对业务代码干扰过大，改造成本小。
-----
## 可以考虑到一些特殊设备
### 高分辨率下，可以显示得更加细腻
### 大屏幕下，可以看到更多内容
-----
### 总结
# 一套好的方案需要满足的三点标准
- 自动适配屏幕
- 操作简单，业务无入侵
- 兼容高清

## 那在开始实现方案之前，我们先来了解一些必要的知识点
## 总的来说，有6个

# 以上就是全部适配用到的知识点
## 接下来我们来分析业界的几种适配方案

上demo
展示demo时，先去草料生成二维码
然后让大家扫二维码访问到现在的页面

分析demo时
1，看缩放时，页面自适应效果
2，看代码实现原理
 1）配置
 2）css 写法
3，总结优点
4，指出不足


### 通过媒体查询，根据视窗的宽度，设置页面的对应的布局。
### 这是最原始的适配方案，就像web一样自然。

如果你希望自己的网页，一套兼容web 和 移动端，还是会用到 @meida 的知识；

# 特点
- 可以根据特定的需求，可以作出html 级别的展示调整

# 缺点
- 每个查询之间，存在边界情况，难以处理，无法做到自然过渡
- 同时需要写大量的css判断，写多套嵌套布局，修改繁琐
### 已经被大家所抛弃，这里不做深入探讨


## 思路
1. 通过 meta 设置页面按视口1:1显示，不允许缩放，让页面表现得像原生app一样；
2. 用rem 作为换算单位，实现UI；
3. 监听视口宽度的改变，动态设置rem 的大小。通过 rem的相对单位属性。让UI实现自动改变大小以适配不同的视窗；

        docE1.style.fontSize = 
          (clientWidth / (375*2)) * 100 + 'px'
## 是怎么推导出来的？
## 为什么通过它可以做到刚刚好覆盖屏幕？

## 假如改变rem大小，现在 1rem = 80px
## 那么你就会得到什么？

### 根据 改变rem 就可以等比缩放UI实现的原理，我们只需要求出设计稿与实际屏幕的比例，就可以刚刚好放进去

### 只需要知道要缩小多少比例，就可以知道1rem 表示多少px，容易得到

### 这个方案只满足了我们的两个条件：
- 自动伸缩适配
- 实施简单
### 没有满足兼容高清屏幕
那么不满足高清屏幕，会带来什么问题吗？

# 什么是 1px border 问题？
### 其实就是1px的border，用了多个物理像素渲染。这样就会让1px border 显得有点粗
### 要解决这个问题，就需要了解一个概念 PPI

## 理想的情况下，我们当然是希望即使是倍屏下，我们还是用物理1px 去显示 css 1 px；
### 那么应该怎么办呢？

### 100×100 的图片，用了 200×200 的分辨率去渲染
### 正确的做法是 2倍屏 下就应该显示 @x2.jpg，让每一个物理像素(LED) 对应一个css像素
### 图片适配怎么做呢
就说到了我们今天的主角 flexible

# 实现思路
- flexible 其实也是基于rem 去实现UI
- 通过改变 initial-scale 的值去整体控制页面大小
- 约定把屏幕分为10份，每1份表示1rem

## 为了避免计算繁琐，可以安装vscode 插件 px2rem
  - 设置一下Root Font size 的大小，就可以帮助你自动计算出 rem，还可以控制保留多少位小数

- 那么你直接可以按着设计稿写代码。插件会自动帮你转为rem

## 现在就只剩下下面两个问题了，而其实他们是同一个问题
  - 解决高清图片
  - 高清字体问题
## 并且flexible 也提供了解决方案

### 经过了双十一验证，大厂背书。
### 还可以让 ipad 设备能看到更多的内容。
## 建议把它作为自己H5适配的 “标准方案”。 

说到未来，就要讲到第四种适配方案 vw 方案
业界最新的方案，其实就是使用 vw 代替 rem；

# 不再需要引入flexible.js 库

### 前面说到flexible 把屏幕分为10份，每份1rem，其实就是为了升级vw方案做的前置准备
## 容易得到 10vw = 1rem


### 获取到设备的dpr，然后判断iphone是几倍屏，安卓默认一倍屏。
### 知道几倍屏后，缩放比就知道了， scale = 1 / dpr;

### 因为这个库诞生的时候，其实安卓机器普遍都是一倍屏
### 其实现在的安卓手机，屏幕也有很高的分辨率了，所以dpr 可以不用区分是否iphone

### 通过设置initial-scale 就可以让页面整体缩放/放大，来适应新的视口

## 怎么理解字体的适配？
### 因为正常页面的最小fontsize 只能是 12px，
### 所以我们把 12px * dpr，就可以得到倍屏下 的最小 fontsize；这样就解决了字体模糊的问题；
（注意这里不是设置html 的fontsize，跟rem 无关）

# 行业现状
## 没有最好，只有最适合
所以，其实现在各个大厂都是根据自己的业务去定制适配方案。有甚者，是为各种倍屏单独写一套css，例如:  今日头条。
有兴趣的可以看一下这个 [文章](https://juejin.cn/post/6844903693020758029#heading-7)

# 方案对比
方案都大同小异，理解了几类方案的优缺点，灵活的组合他们，定制最适合自己业务场景的方案。

## 纵向的单位，还是采用px开发
- 因为高度的超出可以滚动，不存在适配问题
- 当rem有很多小数点时，不同的设备，浏览器计算可能会有偏差，会导致元素上下重叠，覆盖。

## 占满视窗 用 vw 代替 100%。
- 因为vw始终是相对于视窗的；100% 是相对于父盒子的。rem 有时会有小数点计算不准确问题


## 多用flex布局
- 移动端基本都支持flex。
- 弹性布局本身就是为移动端开发而设计，具有一定自动伸缩特性。